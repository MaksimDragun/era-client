<div class="row">
	<div class="col-lg-12 col-md-12 col-xs-12">
		<button type="button" [appHasRoles]="['ROLE_USERACCOUNTS_CREATE']" (click)="navigateToCreate()" class="btn btn-success" aria-label="Left Align">
			<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
			{{'common.add-new' | translate}}
		</button>
	</div>
	<hr/>
	<div class="col-lg-12 col-md-12 col-xs-12">
		<table class="table table-striped">
			<tr>
				<th>#</th>
				<th>{{'administration.user-accounts.username' | translate}}</th>
				<th>{{'administration.user-accounts.name' | translate}}</th>
				<th>{{'administration.user-accounts.email' | translate}}</th>
				<th>{{'administration.user-accounts.roles' | translate}}</th>
				<th>{{'common.actions' | translate}}</th>

			</tr>
			<tr *ngFor="let account of userAccountList; let i = index" (click)="selectUserAccount(account)">
				<td>{{i + 1}}.</td>
				<td>{{account.username}}</td>
				<td>{{account.lastName}} {{account.firstName}}</td>
				<td>{{account.email}}</td>
				<td>
					<button type="button" class="btn btn-link" data-toggle="modal" data-target="#rolesDialog">
						{{'common.view' | translate}}
					</button>
				</td>
				<td>
					<button type="button"
						[appHasRoles]="['ROLE_USERACCOUNTS_UPDATE']" 
						(click)="update(account)"
						class="btn btn-primary"
						aria-label="Left Align"
						data-toggle="tooltip"
						title="{{'common.edit' | translate}}">
						<span class="glyphicon  glyphicon-pencil" aria-hidden="true"></span>
					</button>
					<button type="button" data-toggle="modal" data-target="#confirmationDeleteDialog"
						class="btn btn-danger"
						aria-label="Left Align"
						title="{{'common.delete' | translate}}">
						<span class="glyphicon  glyphicon-remove" aria-hidden="true"></span>
					</button>
				</td>
			</tr>
		</table>
	</div>
</div>

<app-roles-view-dialog [selectedUserAccount]="selectedUserAccount"></app-roles-view-dialog>

<div class="modal fade" id="confirmationDeleteDialog" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="exampleModalLabel">{{'administration.user-accounts.roles-dialog-title' | translate}}</h4>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-lg-12 col-md-12 col-xs-12">
						<h4>Are you sure?</h4>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<div class="row">
					<div class="col-lg-5 col-md-5 col-xs-5">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">{{'common.close' | translate}}</button>
					</div>
					<div class="col-lg-2 col-md-2 col-xs-2">
					</div>
					<div class="col-lg-5 col-md-5 col-xs-5 text-left">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">{{'common.close' | translate}}</button>
					</div>
				</div>				
			</div>
		</div>
	</div>
</div>